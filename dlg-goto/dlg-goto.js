var $dlgGoto=function(){var t=$('<div class="notepad-goto-dlg"><div class="dialogbox"><div class="titlebar"><p class="title">转到指定行</p><span class="btn-close">×</span></div><div class="main"><label>行号(L):</label><br><input type="text" class="line-num" autofocus><br><input type="button" value="转到" class="btn-goto"><input type="button" value="取消" class="btn-cancel"></div></div></div>'),l=t.find(".btn-close"),e=t.find(".btn-cancel"),a=t.find(".btn-goto"),i=t.find(".line-num"),o=t.find(".titlebar"),c={curLine:1,totalLines:1,gotoHandler:null};function s(){t.remove()}function d(){(function(){var n=Number(i.val());return!(0===n||n>c.totalLines)||(alert("行数超过了总行数"),!1)})()&&(c.gotoHandler(i.val()),s())}function u(n){/[0-9]/.test(n.key)||(n.preventDefault(),alert("不能输入数字意外的非法字符"))}return{init:function(n){$.extend(c,n),$("body").append(t),t.find(".dialogbox").draggable({handle:o}),i.val(c.curLine),i.select(),l.click(s),e.click(s),a.click(d),i.keypress(u)}}}();